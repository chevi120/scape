<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Scape – Carrusel de Logotipos</title>
<style>
  :root{
    --brand:#ff007f;     /* magenta Scape */
    --brand-dark:#6f3f8d;/* morado Scape */
    --accent:#FFF162;    /* amarillo Scape */
    --bg:#faf7fb;
    --card:#ffffff;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:#1a1b1e}
  .wrap{max-width:1200px;margin:0 auto;padding:24px}
  h1{margin:0 0 6px;text-align:center;font-size:clamp(20px,2.4vw,28px)}
  p.lead{margin:0 0 18px;text-align:center;color:#555}

  /* ===== Carrusel (scroll-snap) ===== */
  .carousel{position:relative;}
  .track{
    display:flex;gap:16px;overflow-x:auto;padding:8px 0;
    scroll-snap-type:x mandatory;scroll-behavior:smooth;
  }
  /* Ocultar scrollbar en móvil */
  @media (max-width:767px){
    .track{scrollbar-width:none}
    .track::-webkit-scrollbar{display:none}
  }

  .logo-card{
    flex:0 0 46%; /* móvil: 2 logos aprox por vista */
    scroll-snap-align:center;
    background:var(--card);
    border-radius:16px;
    padding:18px 20px;
    box-shadow:0 6px 20px rgba(111,63,141,.15);
    display:flex;align-items:center;justify-content:center;
    transition:transform .2s ease, box-shadow .2s ease, background-color .2s ease;
  }
  .logo-card a{display:block;width:100%}
  .logo-card img{
    width:100%;height:64px;object-fit:contain;display:block;
    filter:grayscale(0);opacity:.95;transition:filter .2s ease, opacity .2s ease;
  }
  .logo-card:hover{background:var(--accent);transform:translateY(-2px);box-shadow:0 10px 26px rgba(111,63,141,.25)}
  .logo-card:hover img{filter:none;opacity:1}

  @media (min-width:768px){
    .logo-card{flex-basis:28%} /* tablet: 3–4 por vista */
    .logo-card img{height:72px}
  }
  @media (min-width:1024px){
    .logo-card{flex-basis:20%} /* desktop: 4–5 por vista */
    .logo-card img{height:80px}
  }

  /* Controles */
  .controls{display:flex;gap:12px;justify-content:center;margin-top:10px}
  .btn{
    -webkit-appearance:none;appearance:none;
    background:#fff;border:2px solid var(--brand);color:var(--brand);
    border-radius:999px;padding:10px 16px;font-weight:800;cursor:pointer;
  }
  .btn:hover,.btn:focus{background:var(--accent);outline:none}

  /* Dots */
  .dots{display:flex;gap:8px;justify-content:center;margin-top:8px}
  .dot{width:8px;height:8px;border-radius:50%;background:#d6cfe0}
  .dot[aria-current="true"]{background:var(--brand)}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Partners & Perks</h1>
    <p class="lead">Logos clicables, diseño Scape, apto para incrustar vía iframe en WordPress.</p>

    <div class="carousel" aria-label="Carrusel de logotipos">
      <div id="logo-track" class="track">
        <!-- Reemplaza href/src/alt según tus logos -->
        <div class="logo-card">
          <a href="https://headspace.org.au/" target="_blank" rel="noopener" aria-label="Headspace">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/467a27c0-d187-46b1-6b00-3a6c5cb37400/w=592,h=320" alt="Headspace">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://sonder.com/" target="_blank" rel="noopener" aria-label="Sonder">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/55413417-d1b8-4457-9b24-22274fa3ee00/w=592,h=320" alt="Sonder">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://www.optus.com.au/" target="_blank" rel="noopener" aria-label="Optus">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/e5a4d6e3-6ec5-4fc1-48cf-4253e0dc7f00/w=592,h=320" alt="Optus">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://www.rmit.edu.au/" target="_blank" rel="noopener" aria-label="RMIT">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/baee697c-68b1-428e-03f9-7a82731e2400/w=592,h=320" alt="RMIT">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://www.redbull.com/" target="_blank" rel="noopener" aria-label="Red Bull">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/101987f5-6786-4b2f-efb4-b8dccbe6c800/w=592,h=320" alt="Red Bull">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://palacecinemas.com.au/" target="_blank" rel="noopener" aria-label="Palace Cinemas">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/2561efed-fbf0-4cea-f135-338fa76e3500/w=592,h=320" alt="Palace Cinemas">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://www.hungrypanda.co/" target="_blank" rel="noopener" aria-label="Hungry Panda">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/9d327c68-53d4-4641-61f1-214fb941c500/w=592,h=320" alt="Hungry Panda">
          </a>
        </div>
        <div class="logo-card">
          <a href="https://newshanghai.com.au/" target="_blank" rel="noopener" aria-label="New Shanghai">
            <img src="https://cdn.scape.com.au/cdn-cgi/imagedelivery/TOESH0qEsuV1ljtDfMkhNw/9da7bc1f-ff41-4750-fee2-fa2cccbbde00/w=592,h=320" alt="New Shanghai">
          </a>
        </div>
      </div>

      <div class="controls">
        <button type="button" class="btn prev" aria-label="Anterior">‹</button>
        <button type="button" class="btn next" aria-label="Siguiente">›</button>
      </div>
      <div class="dots" aria-hidden="true"></div>
    </div>
  </div>

  <script>
  (function(){
    var track = document.getElementById('logo-track');
    var prev = document.querySelector('.prev');
    var next = document.querySelector('.next');
    var dotsWrap = document.querySelector('.dots');
    if(!track || !prev || !next || !dotsWrap) return;

    var cards = Array.from(track.querySelectorAll('.logo-card'));
    var autoplayMs = 4000;
    var timer = null;

    // Dots
    cards.forEach(function(_,i){
      var d=document.createElement('span');
      d.className='dot';
      d.dataset.index=i;
      dotsWrap.appendChild(d);
    });
    var dots = Array.from(dotsWrap.children);

    function visibleIndex(){
      var left = track.scrollLeft, w = track.clientWidth + 0.001;
      var idx = Math.round(left / w);
      if (idx < 0) idx = 0;
      if (idx > cards.length-1) idx = cards.length-1;
      return idx;
    }
    function updateDots(){
      var i = visibleIndex();
      dots.forEach(function(dot,idx){ dot.setAttribute('aria-current', idx===i ? 'true':'false'); });
    }
    function step(dir){
      var by = track.clientWidth;
      track.scrollBy({ left: dir*by, behavior:'smooth' });
    }
    prev.addEventListener('click', function(){ step(-1); });
    next.addEventListener('click', function(){ step( 1); });
    dotsWrap.addEventListener('click', function(e){
      var t=e.target.closest('.dot'); if(!t) return;
      var i=+t.dataset.index, by = track.clientWidth*i - track.scrollLeft;
      track.scrollBy({ left: by, behavior:'smooth' });
    });
    track.addEventListener('scroll', updateDots, {passive:true});
    updateDots();

    // Autoplay + pausas
    function start(){ if(!timer && autoplayMs>0 && !window.matchMedia('(prefers-reduced-motion: reduce)').matches){ timer=setInterval(function(){
      if (track.scrollLeft + track.clientWidth >= track.scrollWidth - 1) {
        track.scrollTo({ left:0, behavior:'smooth' });
      } else { step(1); }
    }, autoplayMs);}}
    function stop(){ if(timer){clearInterval(timer); timer=null;} }
    start();
    ['mouseenter','focusin','pointerdown','wheel','touchstart'].forEach(function(ev){
      track.addEventListener(ev, stop, {passive:true});
    });
    ['mouseleave','focusout'].forEach(function(ev){
      track.addEventListener(ev, start, {passive:true});
    });
    document.addEventListener('visibilitychange', function(){ document.hidden ? stop() : start(); });

    /* Ajuste de altura automático si lo incrustas en iframe (postMessage) */
    var lastH=0,tId=null;
    function sendHeight(){
      var h = document.documentElement.scrollHeight || document.body.scrollHeight;
      if(h!==lastH){ lastH=h; parent.postMessage(JSON.stringify({type:'CAROUSEL_HEIGHT',height:h}), '*'); }
    }
    function throttleHeight(){ clearTimeout(tId); tId=setTimeout(sendHeight, 40); }
    window.addEventListener('load', sendHeight);
    window.addEventListener('resize', sendHeight);
    setTimeout(sendHeight, 300);
    track.addEventListener('scroll', throttleHeight, {passive:true});
  })();
  </script>
</body>
</html>
